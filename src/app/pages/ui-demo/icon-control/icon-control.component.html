<div class="ui-help-container">
  <!-- Header -->
  <div class="ui-help-header">
    <h1>Icon Control UI üé® ‚≠ê</h1>
    <p class="text-secondary">–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∏–∫–æ–Ω–∫–∞–º–∏: —Ä–∞–∑–º–µ—Ä, —Ü–≤–µ—Ç, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏, –≥—Ä–∞–Ω–∏—Ü—ã –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã.</p>
  </div>

  <div class="ui-help-content">
    <!-- üõ†Ô∏è API Interface Documentation -->
    <div class="ui-help-section">
      <div class="section-header">
        <h2>üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Inputs)</h2>
      </div>
      <p class="text-secondary" style="margin-bottom: 16px">
        –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ <code>av-icon</code>. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–∫–æ–Ω–∫–∞–º–∏.
      </p>

      <div style="background: none; border: none; padding: 0">
        <av-help-copy-container
          title="Interface: AvIconProps"
          [content]="apiInterfaceCode"
          bgColor="#0a0e1a"
          [showHelpButton]="true"
        ></av-help-copy-container>
      </div>
    </div>
    <div class="ui-help-section">
      <div class="section-header">
        <button class="collapse-toggle" (click)="isPlaygroundVisible.set(!isPlaygroundVisible())">
          <av-icon
            [type]="isPlaygroundVisible() ? 'arrows/av_chevron-up' : 'arrows/av_chevron-down'"
            [size]="20"
          ></av-icon>
        </button>
        <h2>üéÆ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞ Icon Control</h2>
      </div>

      @if (isPlaygroundVisible()) {
      <!-- Interactive Playground -->
      <div class="playground-container">
        <div nz-row [nzGutter]="[24, 24]">
          <!-- Left: Controls -->
          <div nz-col [nzXs]="24" [nzLg]="10">
            <nz-card nzTitle="–ù–∞—Å—Ç—Ä–æ–π–∫–∏" class="control-card">
              <div class="control-panel">
                <!-- –ì–õ–ê–í–ù–´–ô –ö–û–ù–¢–ï–ô–ù–ï–† -->
                <av-field-group label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∫–æ–Ω–∫–∏" [collapsible]="true">
                  <!-- Icon Selection -->
                  <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 24px">
                    <label
                      style="
                        font-size: 11px;
                        font-weight: 600;
                        color: var(--color-text-secondary);
                        line-height: 1.2;
                        width: 60px;
                        text-align: right;
                      "
                    >
                      –¢–µ–∫—É—â–∞—è<br />–∏–∫–æ–Ω–∫–∞:
                    </label>
                    <div style="flex: 1; display: flex; align-items: center; gap: 8px">
                      <nz-select
                        [ngModel]="pgIcon()"
                        (ngModelChange)="pgIcon.set($event)"
                        nzShowSearch
                        nzPlaceHolder="–í—ã–±–µ—Ä–∏—Ç–µ –∏–∫–æ–Ω–∫—É"
                        style="flex: 1"
                        nzSize="large"
                        [nzCustomTemplate]="selectedIconTpl"
                      >
                        @for (preset of iconPresets; track preset.value) {
                        <nz-option nzCustomContent [nzValue]="preset.value" [nzLabel]="preset.label">
                          <div style="display: flex; align-items: center; gap: 12px; padding: 4px 0">
                            <av-icon [type]="preset.value" [size]="20"></av-icon>
                            <div style="display: flex; flex-direction: column; line-height: 1.3">
                              <span style="font-size: 13px; font-weight: 500">{{ preset.label }}</span>
                              <span style="font-size: 11px; color: var(--color-text-secondary)">{{
                                preset.category
                              }}</span>
                            </div>
                          </div>
                        </nz-option>
                        }
                      </nz-select>

                      <button av-button avType="text" avSize="small" avTextColor="#f43f5e" (click)="resetAllSettings()">
                        –°–±—Ä–æ—Å–∏—Ç—å
                      </button>

                      <ng-template #selectedIconTpl let-selected>
                        <div style="display: flex; align-items: center; gap: 10px; height: 32px">
                          <av-icon [type]="selected.nzValue" [size]="20" color="#1890ff"></av-icon>
                          <span style="font-size: 14px; font-weight: 500">{{ selected.nzLabel }}</span>
                        </div>
                      </ng-template>
                    </div>
                  </div>

                  <!-- Size & Color -->
                  <av-field-group label="–†–∞–∑–º–µ—Ä –∏ —Ü–≤–µ—Ç" size="small" [collapsible]="true">
                    <!-- Row 1: Sizes -->
                    <div nz-row [nzGutter]="12" nzAlign="middle" style="margin-bottom: 12px">
                      <div nz-col [nzSpan]="4">
                        <label style="font-size: 12px; font-weight: 500; color: var(--color-text-secondary)"
                          >–†–∞–∑–º–µ—Ä:</label
                        >
                      </div>
                      <div nz-col [nzSpan]="7">
                        <nz-slider
                          [ngModel]="pgSize()"
                          (ngModelChange)="pgSize.set($event)"
                          [nzMin]="8"
                          [nzMax]="128"
                          [nzStep]="2"
                          style="margin: 0; padding: 4px 0"
                        ></nz-slider>
                      </div>
                      <div nz-col [nzSpan]="4">
                        <nz-input-number
                          [ngModel]="pgSize()"
                          (ngModelChange)="pgSize.set($event)"
                          [nzMin]="8"
                          [nzMax]="128"
                          [nzStep]="2"
                          nzSize="small"
                          style="width: 100%"
                        ></nz-input-number>
                      </div>
                      <div nz-col [nzSpan]="9">
                        <div class="size-preset-buttons" style="margin-top: 0; justify-content: flex-end">
                          @for (preset of sizePresets | slice:0:5; track preset.value) {
                          <button
                            av-button
                            avType="text"
                            avSize="small"
                            (click)="selectSizePreset(preset.value)"
                            [class.active]="pgSize() === preset.value"
                            style="min-width: 28px; height: 24px; padding: 0 4px; font-size: 10px"
                          >
                            {{ preset.value }}
                          </button>
                          }
                        </div>
                      </div>
                    </div>

                    <!-- Row 2: Colors -->
                    <div nz-row [nzGutter]="12" nzAlign="middle">
                      <div nz-col [nzSpan]="4">
                        <label style="font-size: 12px; font-weight: 500; color: var(--color-text-secondary)"
                          >–¶–≤–µ—Ç:</label
                        >
                      </div>
                      <div nz-col [nzSpan]="4">
                        <nz-color-picker
                          [ngModel]="pgColor()"
                          (ngModelChange)="pgColor.set($event)"
                          nzSize="small"
                        ></nz-color-picker>
                      </div>
                      <div nz-col [nzSpan]="16">
                        <div
                          class="color-preset-grid"
                          style="
                            margin-top: 0;
                            grid-template-columns: repeat(auto-fill, minmax(20px, 1fr));
                            gap: 4px;
                            justify-items: end;
                          "
                        >
                          @for (color of colorPresets; track color) {
                          <button
                            class="color-preset-btn"
                            [style.background-color]="color"
                            [class.active]="pgColor() === color"
                            (click)="selectColorPreset(color)"
                            style="width: 20px; height: 20px"
                          ></button>
                          }
                        </div>
                      </div>
                    </div>
                  </av-field-group>

                  <!-- Transformations -->
                  <av-field-group label="–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏" size="small" [collapsible]="true">
                    <div nz-row [nzGutter]="16">
                      <div nz-col [nzSpan]="12">
                        <div class="control-item">
                          <label>–ü–æ–≤–æ—Ä–æ—Ç ({{ pgRotation() }}¬∞):</label>
                          <nz-slider
                            [ngModel]="pgRotation()"
                            (ngModelChange)="pgRotation.set($event)"
                            [nzMin]="0"
                            [nzMax]="360"
                            [nzStep]="15"
                          ></nz-slider>
                        </div>
                      </div>
                      <div nz-col [nzSpan]="12">
                        <div class="control-item">
                          <label>–ú–∞—Å—à—Ç–∞–± ({{ pgScale() }}):</label>
                          <nz-slider
                            [ngModel]="pgScale()"
                            (ngModelChange)="pgScale.set($event)"
                            [nzMin]="0.1"
                            [nzMax]="3"
                            [nzStep]="0.1"
                          ></nz-slider>
                        </div>
                      </div>
                    </div>

                    <div nz-row [nzGutter]="16">
                      <div nz-col [nzSpan]="12">
                        <div class="control-item">
                          <label>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å ({{ (pgOpacity() * 100).toFixed(0) }}%):</label>
                          <nz-slider
                            [ngModel]="pgOpacity()"
                            (ngModelChange)="pgOpacity.set($event)"
                            [nzMin]="0.1"
                            [nzMax]="1"
                            [nzStep]="0.1"
                          ></nz-slider>
                        </div>
                      </div>
                      <div nz-col [nzSpan]="12">
                        <div class="control-item flip-controls">
                          <div class="flip-switch">
                            <span>–û—Ç—Ä–∞–∑–∏—Ç—å –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏</span>
                            <nz-switch
                              [ngModel]="pgFlipHorizontal()"
                              (ngModelChange)="pgFlipHorizontal.set($event)"
                              nzSize="small"
                            ></nz-switch>
                          </div>
                          <div class="flip-switch">
                            <span>–û—Ç—Ä–∞–∑–∏—Ç—å –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏</span>
                            <nz-switch
                              [ngModel]="pgFlipVertical()"
                              (ngModelChange)="pgFlipVertical.set($event)"
                              nzSize="small"
                            ></nz-switch>
                          </div>
                        </div>
                      </div>
                    </div>
                  </av-field-group>

                  <!-- Styling -->
                  <av-field-group label="–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è" size="small" [collapsible]="true">
                    <!-- Row 1: Padding, BG, Border Toggle -->
                    <div nz-row [nzGutter]="16" nzAlign="middle">
                      <!-- Padding -->
                      <div nz-col [nzSpan]="9">
                        <div style="display: flex; align-items: center; gap: 8px">
                          <label
                            style="
                              font-size: 11px;
                              font-weight: 500;
                              color: var(--color-text-secondary);
                              white-space: nowrap;
                            "
                          >
                            –û—Ç—Å—Ç—É–ø—ã:
                          </label>
                          <div style="flex: 1; min-width: 0">
                            <nz-slider
                              [ngModel]="pgPadding()"
                              (ngModelChange)="pgPadding.set($event)"
                              [nzMin]="0"
                              [nzMax]="32"
                              [nzStep]="2"
                              style="margin: 0; padding: 4px 0"
                            ></nz-slider>
                          </div>
                        </div>
                      </div>

                      <!-- BG Color -->
                      <div nz-col [nzSpan]="5">
                        <div style="display: flex; align-items: center; gap: 8px">
                          <label
                            style="
                              font-size: 11px;
                              font-weight: 500;
                              color: var(--color-text-secondary);
                              white-space: nowrap;
                            "
                          >
                            –§–æ–Ω:
                          </label>
                          <nz-color-picker
                            [ngModel]="pgBackgroundColor()"
                            (ngModelChange)="pgBackgroundColor.set($event)"
                            nzSize="small"
                            nzAllowClear
                          ></nz-color-picker>
                        </div>
                      </div>

                      <!-- Border Toggle -->
                      <div nz-col [nzSpan]="10">
                        <div style="display: flex; align-items: center; justify-content: flex-end; gap: 8px">
                          <label
                            style="
                              font-size: 11px;
                              font-weight: 500;
                              color: var(--color-text-secondary);
                              white-space: nowrap;
                            "
                          >
                            –ü–æ–∫–∞–∑–∞—Ç—å –≥—Ä–∞–Ω–∏—Ü—É:
                          </label>
                          <nz-switch
                            [ngModel]="pgShowBorder()"
                            (ngModelChange)="pgShowBorder.set($event)"
                            nzSize="small"
                          ></nz-switch>
                        </div>
                      </div>
                    </div>

                    @if (pgShowBorder()) {
                    <!-- Row 2: Border Details -->
                    <div
                      nz-row
                      [nzGutter]="12"
                      nzAlign="middle"
                      style="margin-top: 12px; padding-top: 12px; border-top: 1px dashed var(--color-border-secondary)"
                    >
                      <div nz-col [nzSpan]="8">
                        <div class="control-item" style="margin: 0">
                          <label style="font-size: 11px">–¶–≤–µ—Ç:</label>
                          <nz-color-picker
                            [ngModel]="pgBorderColor()"
                            (ngModelChange)="pgBorderColor.set($event)"
                            nzSize="small"
                          ></nz-color-picker>
                        </div>
                      </div>
                      <div nz-col [nzSpan]="8">
                        <div class="control-item" style="margin: 0">
                          <label style="font-size: 11px">–¢–æ–ª—â–∏–Ω–∞:</label>
                          <nz-input-number
                            [ngModel]="pgBorderWidth()"
                            (ngModelChange)="pgBorderWidth.set($event)"
                            [nzMin]="1"
                            [nzMax]="10"
                            nzSize="small"
                            style="width: 50px"
                          ></nz-input-number>
                        </div>
                      </div>
                      <div nz-col [nzSpan]="8">
                        <div class="control-item" style="margin: 0">
                          <label style="font-size: 11px">–†–∞–¥–∏—É—Å:</label>
                          <nz-input-number
                            [ngModel]="pgBorderRadius()"
                            (ngModelChange)="pgBorderRadius.set($event)"
                            [nzMin]="0"
                            [nzMax]="32"
                            nzSize="small"
                            style="width: 50px"
                          ></nz-input-number>
                        </div>
                      </div>
                    </div>
                    }
                  </av-field-group>
                </av-field-group>
              </div>
            </nz-card>
          </div>

          <!-- Right: Result & Code -->
          <div nz-col [nzXs]="24" [nzLg]="14">
            <!-- Result Preview -->
            <nz-card nzTitle="–†–µ–∑—É–ª—å—Ç–∞—Ç" class="result-card" style="margin-bottom: 24px">
              <div class="icon-preview-container">
                <div class="preview-background">
                  <div class="icon-showcase">
                    <av-icon
                      [type]="pgIcon()"
                      [size]="pgSize()"
                      [color]="pgColor()"
                      [rotation]="pgRotation()"
                      [scale]="pgScale()"
                      [opacity]="pgOpacity()"
                      [flipX]="pgFlipHorizontal()"
                      [flipY]="pgFlipVertical()"
                      [padding]="pgPadding()"
                      [background]="pgBackgroundColor()"
                      [border]="pgShowBorder() ? pgBorderWidth() + 'px solid ' + pgBorderColor() : null"
                      [radius]="pgBorderRadius()"
                    ></av-icon>
                  </div>
                </div>
                <div class="preview-info">
                  <p><strong>–ò–∫–æ–Ω–∫–∞:</strong> {{ pgIcon() }}</p>
                  <p><strong>–†–∞–∑–º–µ—Ä:</strong> {{ pgSize() }}px</p>
                  <p><strong>–¶–≤–µ—Ç:</strong> {{ pgColor() }}</p>
                  @if (pgRotation() !== 0) {
                  <p><strong>–ü–æ–≤–æ—Ä–æ—Ç:</strong> {{ pgRotation() }}¬∞</p>
                  } @if (pgScale() !== 1) {
                  <p><strong>–ú–∞—Å—à—Ç–∞–±:</strong> {{ pgScale() }}</p>
                  } @if (pgOpacity() !== 1) {
                  <p><strong>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:</strong> {{ (pgOpacity() * 100).toFixed(0) }}%</p>
                  }
                </div>
              </div>
            </nz-card>

            <div style="margin-top: 24px">
              <av-help-copy-container
                title="Raw Source (SVG)"
                [content]="pgRawSource()"
                bgColor="#0f172a"
                codeLang="xml"
              ></av-help-copy-container>
            </div>

            <div style="margin-top: 24px">
              <av-help-copy-container
                title="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥"
                [content]="pgGeneratedCode()"
                bgColor="#1e293b"
              ></av-help-copy-container>
            </div>
          </div>
        </div>
      </div>
      }
    </div>

    <!-- üìñ Examples & Guidelines -->
    <div class="ui-help-section" style="margin-top: 32px">
      <div class="section-header">
        <h2>üìñ –ü—Ä–∏–º–µ—Ä—ã –∏ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ</h2>
      </div>

      <nz-card class="api-docs-card" style="margin-bottom: 24px">
        <div class="card-header-with-icon" style="margin-bottom: 16px; display: flex; align-items: center; gap: 8px">
          <av-icon type="system/av_info" [size]="18" color="#1890ff"></av-icon>
          <span style="font-weight: 600">–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∫–æ–Ω–∫–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ?</span>
        </div>
        <p class="text-secondary" style="margin-bottom: 16px">
          –í—Å–µ –∏–∫–æ–Ω–∫–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç <code>currentColor</code>.
        </p>
        <av-help-copy-container
          title="–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –±–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞"
          [content]="howToConnectCode"
          bgColor="#0a0e1a"
          [showHelpButton]="true"
        ></av-help-copy-container>
      </nz-card>

      <nz-card class="api-docs-card">
        <div class="card-header-with-icon" style="margin-bottom: 16px; display: flex; align-items: center; gap: 8px">
          <av-icon type="actions/av_calculator" [size]="18" color="#52c41a"></av-icon>
          <span style="font-weight: 600">Dokumentation: Help Copy Container</span>
        </div>
        <p class="text-secondary" style="margin-bottom: 16px">
          –≠—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–¥–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ <strong>?</strong> –≤
          –∑–∞–≥–æ–ª–æ–≤–∫–µ –±–ª–æ–∫–∞ –Ω–∏–∂–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
        </p>
        <av-help-copy-container
          title="Interface: AvHelpCopyProps"
          [content]="helpContainerDocsCode"
          bgColor="#0f172a"
          [showHelpButton]="true"
        ></av-help-copy-container>
      </nz-card>
    </div>
  </div>

  <!-- Toast Notification -->
  @if (message()) {
  <div class="message-display">
    {{ message() }}
  </div>
  }
</div>
