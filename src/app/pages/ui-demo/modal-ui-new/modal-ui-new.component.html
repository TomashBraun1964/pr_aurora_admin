<div class="ui-demo">
  <div class="ui-demo__header">
    <h1>Modal UI Modeling (New) ‚≠ê</h1>
    <p class="text-secondary">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ Signal API.</p>
  </div>

  <!-- üõ†Ô∏è API Interface Documentation -->
  <section class="demo-section">
    <div class="demo-section__header">
      <h2>üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Inputs)</h2>
    </div>
    <p class="demo-section__description">
      –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É <strong>"?"</strong> –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∏–∂–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø–æ–ª–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
      –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
    </p>

    <div class="demo-section__preview" style="padding: 0; background: none; border: none">
      <av-help-copy-container
        title="Interface: AvModalProps"
        [content]="apiInterfaceCode"
        bgColor="#0a0e1a"
        [showHelpButton]="true"
        [helpContent]="modalPropsHelp"
      ></av-help-copy-container>
    </div>
  </section>

  <!-- üéÆ Interactive Playground -->
  <section class="demo-section">
    <h2>üéÆ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞ modal</h2>
    <div class="playground-container">
      <div nz-row [nzGutter]="[24, 24]">
        <!-- Controls -->
        <div nz-col [nzXs]="24" [nzLg]="10">
          <nz-card nzTitle="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è" [nzExtra]="resetTpl" class="control-card">
            <ng-template #resetTpl>
              <button av-button avType="text" avSize="small" (click)="resetAllSettings()" style="color: #ff4d4f">
                –°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë
              </button>
            </ng-template>

            <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã -->
            <div class="control-group">
              <div class="control-item">
                <label nz-tooltip nzTooltipTitle="–û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞">–ó–∞–≥–æ–ª–æ–≤–æ–∫ (title):</label>
                <input nz-input [ngModel]="pgTitle()" (ngModelChange)="pgTitle.set($event)" />
              </div>

              <div class="control-item">
                <label nz-tooltip nzTooltipTitle="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º">–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ (subtitle):</label>
                <input nz-input [ngModel]="pgSubtitle()" (ngModelChange)="pgSubtitle.set($event)" />
              </div>
            </div>

            <!-- –†–∞–∑–º–µ—Ä—ã –∏ –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ -->
            <div class="control-group" style="background: #f0f7ff; padding: 12px; border-radius: 8px; margin: 16px 0">
              <div nz-row [nzGutter]="16">
                <div nz-col [nzSpan]="12">
                  <div class="control-item">
                    <label nz-tooltip nzTooltipTitle="–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã (small, medium, etc.)"
                      >–†–∞–∑–º–µ—Ä (size):</label
                    >
                    <nz-select [ngModel]="pgSize()" (ngModelChange)="pgSize.set($event)" style="width: 100%">
                      <nz-option nzValue="small" nzLabel="Small"></nz-option>
                      <nz-option nzValue="medium" nzLabel="Medium"></nz-option>
                      <nz-option nzValue="large" nzLabel="Large"></nz-option>
                      <nz-option nzValue="xlarge" nzLabel="XLarge"></nz-option>
                      <nz-option nzValue="fullscreen" nzLabel="Fullscreen"></nz-option>
                    </nz-select>
                  </div>
                </div>
                <div nz-col [nzSpan]="12">
                  <div class="control-item">
                    <label nz-tooltip nzTooltipTitle="–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ–∫–Ω–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ">–ü–æ–∑–∏—Ü–∏—è (position):</label>
                    <nz-select [ngModel]="pgPosition()" (ngModelChange)="pgPosition.set($event)" style="width: 100%">
                      <nz-option nzValue="center" nzLabel="Center"></nz-option>
                      <nz-option nzValue="top" nzLabel="Top"></nz-option>
                      <nz-option nzValue="bottom" nzLabel="Bottom"></nz-option>
                    </nz-select>
                  </div>
                </div>
              </div>

              <div nz-row [nzGutter]="16">
                <div nz-col [nzSpan]="12">
                  <div class="control-item">
                    <label nz-tooltip nzTooltipTitle="–ö–∞—Å—Ç–æ–º–Ω–∞—è —à–∏—Ä–∏–Ω–∞ (–≤ px –∏–ª–∏ %)">–®–∏—Ä–∏–Ω–∞ (avWidth):</label>
                    <input
                      nz-input
                      [ngModel]="pgWidth()"
                      (ngModelChange)="pgWidth.set($event)"
                      placeholder="e.g. 500px"
                    />
                  </div>
                </div>
                <div nz-col [nzSpan]="12">
                  <div class="control-item">
                    <label nz-tooltip nzTooltipTitle="–ö–∞—Å—Ç–æ–º–Ω–∞—è –≤—ã—Å–æ—Ç–∞ (–≤ px –∏–ª–∏ %)">–í—ã—Å–æ—Ç–∞ (avHeight):</label>
                    <input
                      nz-input
                      [ngModel]="pgHeight()"
                      (ngModelChange)="pgHeight.set($event)"
                      placeholder="e.g. 400px"
                    />
                  </div>
                </div>
              </div>
            </div>

            <!-- –ü–æ–≤–µ–¥–µ–Ω–∏–µ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
            <div class="control-group">
              <p style="margin-bottom: 8px; font-weight: 600; font-size: 13px">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è:</p>
              <div nz-row [nzGutter]="16">
                <div nz-col [nzSpan]="8">
                  <div class="switch-zone" nz-tooltip nzTooltipTitle="–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ —Ç–µ–º–Ω—ã–π —Ñ–æ–Ω –∑–∞ –æ–∫–Ω–æ–º">
                    <span>Backdrop</span>
                    <nz-switch [ngModel]="pgShowBackdrop()" (ngModelChange)="pgShowBackdrop.set($event)"></nz-switch>
                  </div>
                </div>
                <div nz-col [nzSpan]="8">
                  <div class="switch-zone" nz-tooltip nzTooltipTitle="–ó–∞–∫—Ä—ã–≤–∞—Ç—å –ª–∏ –æ–∫–Ω–æ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ Escape">
                    <span>ESC Key</span>
                    <nz-switch [ngModel]="pgCloseOnEsc()" (ngModelChange)="pgCloseOnEsc.set($event)"></nz-switch>
                  </div>
                </div>
                <div nz-col [nzSpan]="8">
                  <div class="switch-zone" nz-tooltip nzTooltipTitle="–ó–∞–∫—Ä—ã–≤–∞—Ç—å –ª–∏ –æ–∫–Ω–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ñ–æ–Ω">
                    <span>By Click</span>
                    <nz-switch
                      [ngModel]="pgCloseOnBackdrop()"
                      (ngModelChange)="pgCloseOnBackdrop.set($event)"
                    ></nz-switch>
                  </div>
                </div>
              </div>

              <div nz-row [nzGutter]="16" style="margin-top: 12px">
                <div nz-col [nzSpan]="8">
                  <div class="switch-zone" nz-tooltip nzTooltipTitle="–†–∞–∑—Ä–µ—à–∏—Ç—å –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –∑–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫">
                    <span>Draggable</span>
                    <nz-switch [ngModel]="pgDraggable()" (ngModelChange)="pgDraggable.set($event)"></nz-switch>
                  </div>
                </div>
                <div nz-col [nzSpan]="8">
                  <div
                    class="switch-zone"
                    nz-tooltip
                    nzTooltipTitle="–†–∞–∑—Ä–µ—à–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∑–∞ –ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª"
                  >
                    <span>Resizable</span>
                    <nz-switch [ngModel]="pgResizable()" (ngModelChange)="pgResizable.set($event)"></nz-switch>
                  </div>
                </div>
                <div nz-col [nzSpan]="8">
                  <div class="switch-zone" nz-tooltip nzTooltipTitle="–ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω">
                    <span>Maximize</span>
                    <nz-switch
                      [ngModel]="pgShowMaximizeButton()"
                      (ngModelChange)="pgShowMaximizeButton.set($event)"
                    ></nz-switch>
                  </div>
                </div>
              </div>

              <div nz-row [nzGutter]="16" style="margin-top: 12px">
                <div nz-col [nzSpan]="12">
                  <div class="switch-zone" nz-tooltip nzTooltipTitle="–ü–æ–∫–∞–∑–∞—Ç—å –∫—Ä–µ—Å—Ç–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –≤ —É–≥–ª—É">
                    <span>Close Button</span>
                    <nz-switch
                      [ngModel]="pgShowCloseButton()"
                      (ngModelChange)="pgShowCloseButton.set($event)"
                    ></nz-switch>
                  </div>
                </div>
                <div nz-col [nzSpan]="12">
                  <div class="switch-zone" nz-tooltip nzTooltipTitle="–¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∫–æ–Ω–∫–∏ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–¥–ª—è –∞–ª–µ—Ä—Ç–æ–≤)">
                    <span>Centered UI</span>
                    <nz-switch [ngModel]="pgCentered()" (ngModelChange)="pgCentered.set($event)"></nz-switch>
                  </div>
                </div>
              </div>
            </div>

            <div class="preview-actions" style="margin-top: 24px">
              <button av-button avType="primary" [avBlock]="true" (click)="openModal()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–¥–µ–ª—å ‚ú®</button>
            </div>
          </nz-card>
        </div>

        <!-- Code View -->
        <div nz-col [nzXs]="24" [nzLg]="14">
          <av-help-copy-container
            title="Generated HTML Code"
            [content]="pgGeneratedCode()"
            [defaultCollapsed]="false"
          ></av-help-copy-container>
        </div>
      </div>
    </div>
  </section>

  <!-- üöÄ Modal Service Demo Section -->
  <section class="demo-section">
    <div class="demo-section__header">
      <h2>üîå ModalService (–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –≤—ã–∑–æ–≤)</h2>
      <div class="api-badge" *ngIf="serviceResult()">Result: {{ serviceResult() }}</div>
    </div>
    <p class="demo-section__description">
      –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–æ–≤ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ TypeScript –∫–æ–¥–∞ —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –Ω–∞–¥ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.
    </p>

    <nz-card>
      <div nz-row [nzGutter]="24">
        <div nz-col [nzSpan]="6">
          <button av-button avType="default" [avBlock]="true" (click)="showConfirm()">Confirm Dialog</button>
        </div>
        <div nz-col [nzSpan]="6">
          <button av-button avType="danger" [avBlock]="true" (click)="showDelete()">Delete Modal</button>
        </div>
        <div nz-col [nzSpan]="6">
          <button av-button avType="primary" avColor="#52c41a" [avBlock]="true" (click)="showSuccess()">
            Success Alert
          </button>
        </div>
        <div nz-col [nzSpan]="6">
          <button av-button avType="primary" avColor="#faad14" [avBlock]="true" (click)="showError()">
            Error Alert
          </button>
        </div>
      </div>

      <div style="margin-top: 24px">
        <av-help-copy-container
          title="–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ModalService"
          [content]="detailedServiceExample"
          bgColor="#0f172a"
          [showHelpButton]="true"
          [helpContent]="modalServiceHelp"
        ></av-help-copy-container>
      </div>
    </nz-card>
  </section>

  <!-- THE MODAL COMPONENT (HIDDEN BY DEFAULT) -->
  <av-modal
    [isOpen]="isOpen()"
    (isOpenChange)="isOpen.set($event)"
    [title]="pgTitle()"
    [subtitle]="pgSubtitle()"
    [size]="pgSize()"
    [position]="pgPosition()"
    [avWidth]="pgWidth()"
    [avHeight]="pgHeight()"
    [draggable]="pgDraggable()"
    [resizable]="pgResizable()"
    [showMaximizeButton]="pgShowMaximizeButton()"
    [showCloseButton]="pgShowCloseButton()"
    [showBackdrop]="pgShowBackdrop()"
    [closeOnBackdrop]="pgCloseOnBackdrop()"
    [closeOnEsc]="pgCloseOnEsc()"
    [centered]="pgCentered()"
  >
    <div modal-body>
      <div style="padding: 24px; text-align: center">
        @if (pgCentered()) {
        <div style="font-size: 48px; margin-bottom: 16px">üöÄ</div>
        }
        <h3>–ö–æ–Ω—Ç–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞</h3>
        <p>–í—ã –º–æ–∂–µ—Ç–µ –º–µ–Ω—è—Ç—å –ª—é–±—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–ª–µ–≤–∞ –∏ —Å—Ä–∞–∑—É –≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–¥–µ—Å—å.</p>
        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ <strong>Resize</strong> –≤ –Ω–∏–∂–Ω–µ–º –ø—Ä–∞–≤–æ–º —É–≥–ª—É!</p>
      </div>
    </div>
    <div modal-footer>
      <button av-button avType="default" (click)="isOpen.set(false)">–û—Ç–º–µ–Ω–∞</button>
      <button av-button avType="primary" (click)="isOpen.set(false)">–ü—Ä–∏–Ω—è—Ç—å</button>
    </div>
  </av-modal>
</div>
