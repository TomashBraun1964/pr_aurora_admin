–î–∞, —ç—Ç–æ HTTP Interceptor - –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ –¥—Ä—É–≥–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç! –≠—Ç–æ –Ω–µ —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ ErrorHandlingService. –û–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Å–≤—è–∑–∫–µ, –Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç —Ä–∞–∑–Ω—ã–µ —Ä–æ–ª–∏.üîÑ –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ:HttpErrorInterceptor - —ç—Ç–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ "–ª–æ–≤–∏—Ç" –≤—Å–µ HTTP –æ—à–∏–±–∫–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏—Ö –≤ –ø–æ–Ω—è—Ç–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–æ–±—â–µ–Ω–∏—è.üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è:HttpErrorInterceptorErrorHandlingServiceüåê –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç HTTP –æ—à–∏–±–∫–∏üé® –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤ UIüîß –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å—ã—Ä—ã–µ HTTP –æ—Ç–≤–µ—Ç—ãüé≠ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—ã –∏ toastüß† –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏üìã –£–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è‚ö° –†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏üéõÔ∏è –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ interceptorüîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç HttpErrorInterceptor:1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–≤–∞—Ç
typescript// –ö–æ–≥–¥–∞ –¥–µ–ª–∞–µ—Ç—Å—è –ª—é–±–æ–π HTTP –∑–∞–ø—Ä–æ—Å:
this.http.get('/api/users').subscribe()
     ‚Üì
HttpErrorInterceptor –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç
     ‚Üì  
–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É –∏ —Å–æ–∑–¥–∞–µ—Ç ErrorResponse
     ‚Üì
–ü–µ—Ä–µ–¥–∞–µ—Ç –≤ ErrorHandlingService –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è2. –£–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
typescript// –ò–∑ URL –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø —Å—É—â–Ω–æ—Å—Ç–∏:
'/api/users' ‚Üí entityName: 'User'
'/api/tags' ‚Üí entityName: 'Tag'  
'/api/projects' ‚Üí entityName: 'Project'

// –ò–∑ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—à–∏–±–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º–Ω–æ–µ –ø–æ–ª–µ:
"Email already exists" ‚Üí conflictField: 'email'
"Name is required" ‚Üí conflictField: 'name'3. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
typescript// –í–º–µ—Å—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ:
"Http failure response for /api/tags: 409 Conflict"

// –°–æ–∑–¥–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ:
{
  title: "–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–≥–∞",
  detail: "–¢–µ–≥ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö",
  entityName: "Tag",
  conflictField: "name"
}üöÄ –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:–°—Ü–µ–Ω–∞—Ä–∏–π: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º emailtypescript// 1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
this.http.post('/api/users', { email: 'test@example.com' }).subscribe()

// 2. –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 409 Conflict
// HTTP Response: { status: 409, message: "Email already exists" }

// 3. HttpErrorInterceptor –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç:
function createEnhancedErrorResponse(httpError, req) {
  const entityName = 'User';           // –∏–∑ URL '/api/users'
  const conflictField = 'email';       // –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è "Email already exists"
  
  return new ErrorResponse({
    status: 409,
    title: '–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',           // –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
    detail: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω', // –ø–æ–Ω—è—Ç–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
    entityName: 'User',
    conflictField: 'email',
    correlationId: 'err_1640995200000_abc123'
  });
}

// 4. –ü–µ—Ä–µ–¥–∞–µ—Ç –≤ ErrorHandlingService
errorHandlingService.handleError(errorResponse);

// 5. ErrorHandlingService –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–π –º–æ–¥–∞–ª:‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (409)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º      ‚îÇ
‚îÇ email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω           ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–π –æ–±—ä–µ–∫—Ç: User             ‚îÇ
‚îÇ –ü—Ä–æ–±–ª–µ–º–Ω–æ–µ –ø–æ–ª–µ: email              ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ üí° –ß—Ç–æ –¥–µ–ª–∞—Ç—å: –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ    ‚îÇ
‚îÇ –ø–æ–ª—è "email" –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞     ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ              [–ü–æ–Ω—è—Ç–Ω–æ]              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îòüß† –£–º–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ interceptor:‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å—É—â–Ω–æ—Å—Ç–∏:
typescript'/api/tags' ‚Üí 'Tag'
'/api/users' ‚Üí 'User'  
'/api/projects' ‚Üí 'Project'
'/api/departments' ‚Üí 'Department'‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –ø–æ–ª—è:
typescript"name already exists" ‚Üí conflictField: 'name'
"email is taken" ‚Üí conflictField: 'email'
"username required" ‚Üí conflictField: 'username'‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:
typescript409 + '/api/tags' ‚Üí "–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–≥–∞"
409 + '/api/users' ‚Üí "–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
401 + –ª—é–±–æ–π URL ‚Üí "–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è"‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞:
typescriptconsole.log('üöÄ –ó–∞–ø—Ä–æ—Å: /api/users');
console.log('üêõ INTERCEPTOR ERROR:', error);
console.log('‚úÖ Enhanced error response created:', errorResponse);üîÑ –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:mermaidgraph TD
    A[HTTP Request] --> B[HttpErrorInterceptor]
    B --> C{–ï—Å—Ç—å –æ—à–∏–±–∫–∞?}
    C -->|–ù–µ—Ç| D[–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç]
    C -->|–î–∞| E[–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞]
    E --> F[–°–æ–∑–¥–∞–Ω–∏–µ ErrorResponse]
    F --> G[ErrorHandlingService]
    G --> H[–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UI]
    
    E1[–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏] --> E
    E2[–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª—è] --> E
    E3[–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è] --> EHttpErrorInterceptor –¥–µ–ª–∞–µ—Ç –æ—à–∏–±–∫–∏ —É–º–Ω—ã–º–∏ –∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏, –∞ ErrorHandlingService –¥–µ–ª–∞–µ—Ç –∏—Ö –∫—Ä–∞—Å–∏–≤—ã–º–∏! üéØ