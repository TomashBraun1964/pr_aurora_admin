1.1. ErrorHandlingService

–ó–∞—á–µ–º –Ω—É–∂–µ–Ω: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 404, 500) –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥ –≤ —Ñ–æ—Ä–º–µ). –û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (NzMessageService) –∏–ª–∏ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (NzModalService) –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ /login –¥–ª—è 401).
–†–æ–ª—å:

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç ErrorResponse, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–± –æ—à–∏–±–∫–µ (status, title, detail, correlationId, –∏ —Ç.–¥.).
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é ErrorDisplayConfig –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –∫–∞–∫ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –æ—à–∏–±–∫—É (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ, —Ä–µ–¥–∏—Ä–µ–∫—Ç).
–õ–æ–≥–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ LoggingService –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.
–ó–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (NavigationStart).


–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP-–æ—à–∏–±–∫–∏ 409 (–∫–æ–Ω—Ñ–ª–∏–∫—Ç –¥–∞–Ω–Ω—ã—Ö) —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞: ¬´–ö–æ–Ω—Ñ–ª–∏–∫—Ç –¥–∞–Ω–Ω—ã—Ö (409): –û–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –¥–∞–Ω–Ω—ã—Ö¬ª.

üéØ –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ:
ErrorHandlingService - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Angular —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π:

–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTP –æ—à–∏–±–∫–∏ –æ—Ç API
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∏–∞–ª–æ–≥–∏
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –ø–æ–º–æ—â—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º–∏

üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫
typescriptprivate readonly errorConfigs: Record<number, ErrorDisplayConfig> = {
  400: { showModal: true, showMessage: false },    // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
  401: { showModal: true, autoRedirect: true },   // –ú–æ–¥–∞–ª + —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login  
  422: { showModal: false, showMessage: true },   // Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
  500: { showModal: true, showTechnicalInfo: true } // –ú–æ–¥–∞–ª —Å —Ç–µ—Ö–∏–Ω—Ñ–æ
}
2. –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥
typescripthandleError(errorResponse: ErrorResponse, options?: Partial<ErrorDisplayConfig>)
3. –¢–∏–ø—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:

üî¥ –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ - –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ (400, 401, 403, 404, 409, 500)
üü° Toast —Å–æ–æ–±—â–µ–Ω–∏—è - –¥–ª—è –º–µ–Ω–µ–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö (422, 502, 503, 0)
üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã - –¥–ª—è 401 ‚Üí /login, 404 ‚Üí /not-found, 500 ‚Üí /

üìã –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
‚úÖ –£–º–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏:

–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —á—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ
–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–ø–∞–º–∞:

–ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –º–æ–¥–∞–ª—ã
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –æ—à–∏–±–∫–∏
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—ã –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ –æ—à–∏–±–∫–∏ –≤ —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–æ–≤
–í–∫–ª—é—á–∞–µ—Ç correlation ID –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç (URL, —Å—Ç–∞—Ç—É—Å, —Ç–∏–ø —Å—É—â–Ω–æ—Å—Ç–∏)

üöÄ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
typescript// 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ HTTP –∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä
this.http.get('/api/users').subscribe() // –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

// 2. –†—É—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ  
constructor(private errorService: ErrorHandlingService) {}

handleCustomError() {
  const error = new ErrorResponse({
    status: 409,
    title: '–ö–æ–Ω—Ñ–ª–∏–∫—Ç –¥–∞–Ω–Ω—ã—Ö', 
    detail: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç',
    instance: '/api/users'
  });
  
  this.errorService.handleError(error);
}

// 3. –° –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
this.errorService.handleError(error, {
  showModal: true,
  showTechnicalInfo: false,
  autoRedirect: false
});
üìä –ö–∞–∫ –≤—ã–≥–ª—è–¥—è—Ç –æ—à–∏–±–∫–∏:
–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (409 Conflict):
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ö–æ–Ω—Ñ–ª–∏–∫—Ç –¥–∞–Ω–Ω—ã—Ö (–ö–æ–Ω—Ñ–ª–∏–∫—Ç: 409)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –û–ø–∏—Å–∞–Ω–∏–µ: –¢–µ–≥ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º     ‚îÇ
‚îÇ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö        ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–π –æ–±—ä–µ–∫—Ç: Tag              ‚îÇ
‚îÇ –ü—Ä–æ–±–ª–µ–º–Ω–æ–µ –ø–æ–ª–µ: name               ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ üí° –ß—Ç–æ –¥–µ–ª–∞—Ç—å: –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ    ‚îÇ
‚îÇ –ø–æ–ª—è "name" –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞      ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ              [–ü–æ–Ω—è—Ç–Ω–æ]              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
Toast —Å–æ–æ–±—â–µ–Ω–∏–µ (422 Validation):
üî¥ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π:
typescript// HTTP Interceptor ‚Üí ErrorHandlingService ‚Üí UI
HttpRequest ‚Üí HttpError ‚Üí ErrorResponse ‚Üí handleError() ‚Üí Modal/Toast
–≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤–æ–π —á–∞—Å—Ç—å—é —Å–∏—Å—Ç–µ–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π UX –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å Angular –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è! üéØ